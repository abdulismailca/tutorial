<?xml version="1.0" encoding="UTF-8"?>
<templates>
    <t t-name="crm_dashboard.CrmDashboard">
         <style>
        body, .container-fluid {
            overflow-y: auto !important;
        }
        html, body {
            height: auto !important;
        }
    </style>
        <div class="container-fluid">
            <center>
                <h1 style="margin:20px;">CRM Dashboard</h1>
            </center>

            <!-- Filter Selection -->
            <div class="d-flex justify-content-end mb-3" style="margin-right:80px;">
                <label for="period_filter" class="fw-bold me-2">Filter:</label>
                <select id="period_filter" class="form-select" style="width:200px;">
                    <option value="monthly" selected="selected">Monthly</option>
                    <option value="weekly">Weekly</option>
                    <option value="quarterly">Quarterly</option>
                    <option value="yearly">Yearly</option>
                </select>
            </div>

            <!-- =================== Tiles =================== -->
            <div class="row main-section" style="margin-left: 80px; margin-right: 80px;">

                <!-- My Leads -->
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="oh-card shadow-sm text-center p-3">
                        <div class="d-flex align-items-center">
                            <div style="background:#ff4d94; width:65px; text-align:center;">
                                <i class="fa fa-tasks text-white" style="font-size:50px;"/>
                            </div>
                            <div class="flex-grow-1 text-center" style="padding-left:50px;">
                                <div id="my_lead" style="font-size:18px; font-weight:bold;"></div>
                                <div style="font-size:14px;">My Leads</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- My Opportunities -->
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="oh-card shadow-sm text-center p-3">
                        <div class="d-flex align-items-center">
                            <div style="background:yellow; width:65px; text-align:center;">
                                <i class="fa fa-trophy text-dark" style="font-size:50px;"/>
                            </div>
                            <div class="flex-grow-1 text-center" style="padding-left:50px;">
                                <div id="my_opportunity" style="font-size:18px; font-weight:bold;"></div>
                                <div style="font-size:14px;">My Opportunities</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Expected Revenue -->
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="oh-card shadow-sm text-center p-3">
                        <div class="d-flex align-items-center">
                            <div style="background:#bf80ff; width:65px; text-align:center;">
                                <i class="fa fa-usd text-white" style="font-size:50px;"/>
                            </div>
                            <div class="flex-grow-1 text-center" style="padding-left:50px;">
                                <div id="future_revenue" style="font-size:18px; font-weight:bold;"></div>
                                <div style="font-size:14px;">Expected Revenue</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- My Revenue -->
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="oh-card shadow-sm text-center p-3">
                        <div class="d-flex align-items-center">
                            <div style="background:#4caf50; width:65px; text-align:center;">
                                <i class="fa fa-credit-card text-white" style="font-size:50px;"/>
                            </div>
                            <div class="flex-grow-1 text-center" style="padding-left:50px;">
                                <div id="user_invoiced_revenue" style="font-size:18px; font-weight:bold;"></div>
                                <div style="font-size:14px;">My Revenue</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- My Lose -->
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="oh-card shadow-sm text-center p-3">
                        <div class="d-flex align-items-center">
                            <div style="background:#e74c3c; width:65px; text-align:center;">
                                <i class="fa fa-thumbs-down text-white" style="font-size:50px;"/>
                            </div>
                            <div class="flex-grow-1 text-center" style="padding-left:50px;">
                                <div id="my_lose_count" style="font-size:18px; font-weight:bold;"></div>
                                <div style="font-size:14px;">My Lose</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Win/Loss Ratio -->
                <div class="col-md-4 col-sm-6 mb-4">
                    <div class="oh-card shadow-sm text-center p-3">
                        <div class="d-flex align-items-center">
                            <div style="background:#e74c3c; width:65px; text-align:center;">
                                <i class="fa fa-trophy text-dark" style="font-size:50px;"/>
                            </div>
                            <div class="flex-grow-1 text-center" style="padding-left:50px;">
                                <div id="won_los_ration" style="font-size:18px; font-weight:bold;"></div>
                                <div style="font-size:14px;">Win Ratio</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- =================== Charts and Table =================== -->

            <div class="mt-5 mb-5" style="width:600px; margin:auto;">
                <h4 class="text-center mb-3">Lost Opportunity / Lead - Graph</h4>
                <canvas id="lost_lead_graph" width="400" height="200"></canvas>
            </div>

            <div class="d-flex justify-content-around mt-4 mb-5 flex-wrap">
                <div>
                    <h4 class="text-center mb-3">Activity - Pie Chart</h4>
                    <canvas id="chart_example" width="300" height="300"></canvas>
                </div>

                <div>
                    <h4 class="text-center mb-3">Leads by Medium - Doughnut</h4>
                    <canvas id="doughnut_example" width="300" height="300"></canvas>
                </div>
            </div>

            <div class="mt-4 mb-5" style="width:600px; margin:auto;">
                <h4 class="text-center mb-3">Leads by Campaign</h4>
                <canvas id="leads_by_campaign_chart" width="400" height="200"></canvas>
            </div>

            <div class="mt-4 mb-5" style="width:500px; margin:auto;">
                <h4 class="text-center mb-3">Leads by Month - Table</h4>
                <table t-ref="leads_by_month_table" class="table table-borderless text-center">
                    <thead>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <th class="fw-bold">Month</th>
                            <th class="fw-bold">Count</th>
                        </tr>
                    </thead>
                    <tbody id="table_body"></tbody>
                </table>
            </div>
        </div>
    </t>
</templates>
